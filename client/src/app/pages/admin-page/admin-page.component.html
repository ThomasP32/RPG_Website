<div class="adminPage-container">
    <div class="header">
        <div class="header-buttons">
            <button class="return-button" (click)="navigateToMain()">Retour</button>
        </div>
        <h2>{{ title }}</h2>

        <div class="header-buttons">
            <button class="create-game-button" (click)="toggleGameCreationModalVisibility()">Nouveau jeu</button>
        </div>
    </div>

    @if(isMapVisible) {
    <div>
        <app-map-choices-component (close)="onCloseModal()"></app-map-choices-component>
    </div>
    }

    <div class="map-view">
        <div class="scrollable-container">
            <div class="map-cards">
                @for(map of this.maps; track map.name) {
                <div class="map-card" (mouseover)="showDescription()" (mouseleave)="hideDescription()">
                    <img src="../../../assets/map-preview/map-preview.png" alt="map-preview" class="map-img" />
                    <div class="map-details">
                        <div class="map-details">
                            <h2 class="name">{{ map.name }}</h2>
                            <p class="mode">Mode de jeu: À FAIRE</p>
                            <p class="size">Taille: À FAIRE</p>
                            <p class="lastModified">Dernière modification: À FAIRE</p>
                            <p class="visibility">
                                Visibilité:
                                <!-- <button (click)="toggleVisibility(map)">
                                        {{ map.visibility ? 'Cacher' : 'Afficher' }}
                                    </button> -->
                            </p>
                        </div>
                        <div class="map-actions">
                            <button class="edit-button" (click)="editGame(map)">Modifier</button>
                            <button class="map-delete" (click)="deleteTrigger()">Supprimer</button>
                            @if(deleteTriggered === true) {
                            <div class="delete-confirmation">
                                <p>Êtes-vous sûr de vouloir supprimer cette carte ?</p>
                                <button class="delete-confirmation-button" (click)="deleteGame(map._id!.toString())">Oui</button>
                                <button class="delete-confirmation-button" (click)="deleteTrigger()">Non</button>
                            </div>
                            }
                        </div>
                    </div>
                </div>
                }
            </div>
        </div>
    </div>
</div>
